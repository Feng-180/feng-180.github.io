<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>魔法仓库 - 风的小窝</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap');
        body { background-color: #fff5f7; font-family: 'ZCOOL KuaiLe', cursive; margin: 0; overflow-x: hidden; }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border: 2px solid #ffb7c5; border-radius: 2.5rem; }
        .sakura-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
        
        /* 复制成功的动画 */
        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .copy-success { animation: pop 0.3s ease-in-out; background: #67c23a !important; }
    </style>
</head>
<body class="p-4 min-h-screen flex items-center justify-center">
    <canvas id="sakura-canvas" class="sakura-bg"></canvas>

    <div class="max-w-md w-full mx-auto relative z-10">
        <div class="glass-card p-8 shadow-2xl text-center">
            <div class="relative inline-block mb-4">
                <div class="w-20 h-20 rounded-full border-4 border-white shadow-lg overflow-hidden bg-[#ffecf0] flex items-center justify-center mx-auto">
                    <img src="tx.jpg" class="w-full h-full object-cover" onerror="this.src='https://via.placeholder.com/100/ffecf0/ff6b81?text=风'">
                </div>
            </div>

            <h2 class="text-2xl font-bold text-[#ff6b81] mb-2">✨ 魔法订阅仓库</h2>
            <p class="text-[#ffb7c5] text-[12px] mb-6">每日 06:00 自动补货 · 聚合全网优质节点</p>
            
            <div class="bg-pink-50/50 border-2 border-dashed border-[#ffb7c5] p-4 rounded-2xl mb-6">
                <p class="text-[10px] text-gray-400 mb-2">魔法链接地址：</p>
                <code id="subUrl" class="text-[#ff6b81] text-[13px] break-all select-all font-mono">https://feng-180.github.io/sub_all.txt</code>
            </div>

            <button id="copyBtn" onclick="copyLink()" class="block w-full bg-[#f4a7b9] text-white font-bold py-4 rounded-2xl shadow-md transition-all active:scale-95">
                一键复制订阅链接
            </button>
            
            <a href="index.html" class="inline-block mt-8 text-[#ffb7c5] text-sm hover:text-[#ff6b81] transition-colors">
                ← 返回风的小窝首页
            </a>
        </div>
    </div>

    <script>
        // 复制逻辑
        function copyLink() {
            const text = document.getElementById('subUrl').innerText;
            const btn = document.getElementById('copyBtn');
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = btn.innerText;
                btn.innerText = '✅ 复制成功啦！';
                btn.classList.add('copy-success');
                
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.classList.remove('copy-success');
                }, 2000);
            }).catch(err => {
                alert('手机浏览器限制，请长按链接手动复制哦~');
            });
        }

        // 樱花绘制 (完全复刻主页)
        const canvas = document.getElementById('sakura-canvas');
        const ctx = canvas.getContext('2d');
        let sakuraArray = [];
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        class Sakura {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height - canvas.height;
                this.size = Math.random() * 7 + 3;
                this.speedX = Math.random() * 1.5 - 0.5;
                this.speedY = Math.random() * 1 + 1;
                this.angle = Math.random() * 360;
                this.spin = Math.random() * 2 - 1;
            }
            draw() {
                ctx.save(); ctx.translate(this.x, this.y); ctx.rotate(this.angle * Math.PI / 180);
                ctx.fillStyle = '#ffb7c5'; ctx.beginPath();
                ctx.ellipse(0, 0, this.size, this.size/2, 0, 0, Math.PI * 2); ctx.fill(); ctx.restore();
            }
            update() {
                this.x += this.speedX; this.y += this.speedY; this.angle += this.spin;
                if (this.y > canvas.height) { this.y = -20; this.x = Math.random() * canvas.width; }
            }
        }
        function init() { resize(); for (let i = 0; i < 20; i++) sakuraArray.push(new Sakura()); }
        function animate() { ctx.clearRect(0, 0, canvas.width, canvas.height); sakuraArray.forEach(s => { s.update(); s.draw(); }); requestAnimationFrame(animate); }
        window.addEventListener('resize', resize); init(); animate();
    </script>
</body>
</html>