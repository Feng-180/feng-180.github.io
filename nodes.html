<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é­”æ³•è¡¥ç»™ç«™ - é£çš„å°çª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap');
        body { background-color: #fff5f7; font-family: 'ZCOOL KuaiLe', cursive; margin: 0; overflow-x: hidden; }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border: 2px solid #ffb7c5; border-radius: 2.5rem; }
        .sakura-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
        .btn-shadowrocket { background: linear-gradient(135deg, #007aff, #5856d6); }
        .btn-clash { background: linear-gradient(135deg, #fb923c, #ea580c); }
        .btn-backup { background: #fff1f2; color: #ff6b81; border: 2px solid #ffb7c5; }
    </style>
</head>
<body class="p-4 min-h-screen flex items-center justify-center">
    <canvas id="sakura-canvas" class="sakura-bg"></canvas>

    <div class="max-w-md w-full mx-auto relative z-10">
        <div class="glass-card p-8 shadow-2xl text-center">
            <div class="w-20 h-20 rounded-full border-4 border-white shadow-lg overflow-hidden bg-[#ffecf0] mx-auto mb-4">
                <img src="tx.jpg" class="w-full h-full object-cover" alt="å¤´åƒ">
            </div>

            <h2 class="text-2xl font-bold text-[#ff6b81] mb-1">âœ¨ é­”æ³•è¡¥ç»™ç«™</h2>
            <p class="text-[#ffb7c5] text-[11px] mb-6 italic">2025 æé€ŸèŠ‚ç‚¹ Â· æ¯æ—¥ 06:00 è‡ªåŠ¨è¡¥è´§</p>
            
            <div class="space-y-4">
                <button onclick="importShadowrocket()" class="block w-full btn-shadowrocket text-white font-bold py-4 rounded-2xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2">
                    ğŸš€ ä¸€é”®å¯¼å…¥å°ç«ç®­ (iOS)
                </button>

                <button onclick="importClash('main')" class="block w-full btn-clash text-white font-bold py-4 rounded-2xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2">
                    ğŸ”¥ ä¸€é”®å¯¼å…¥ Clash (çº¿è·¯1)
                </button>

                <button onclick="importClash('backup')" class="block w-full btn-backup font-bold py-3 rounded-2xl transition-all active:scale-95 flex items-center justify-center gap-2">
                    ğŸ”„ å¯¼å…¥å¤±è´¥è¯·ç‚¹æ­¤ (çº¿è·¯2)
                </button>

                <button onclick="copyLink()" id="copyBtn" class="block w-full bg-white text-[#ff8fa3] font-bold py-4 rounded-2xl border-2 border-[#ffb7c5] transition-all">
                    ğŸ“‹ ä»…å¤åˆ¶è®¢é˜…é“¾æ¥
                </button>
            </div>

            <div class="mt-8 px-4 text-center border-t border-dashed border-pink-100 pt-6">
                <p class="text-[11px] text-gray-400 leading-relaxed italic">
                    âš ï¸ é£é™©æç¤ºï¼šæœ¬é¡µé¢æä¾›çš„â€œä½é˜¶é­”æ³•â€ä»…ä¾›ç½‘ç»œæŠ€æœ¯ç ”ç©¶ä¸å­¦ä¹ ä½¿ç”¨ã€‚è¯·åŠ¡å¿…éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ã€‚
                </p>
                <p class="mt-4 text-[10px] text-gray-300">
                    Â© 2025 é£çš„é­”æ³•å°å±‹ | ç»´æŠ¤ç½‘ç»œçº¯å‡€
                </p>
            </div>
            <a href="index.html" class="inline-block mt-8 text-[#ffb7c5] text-sm hover:underline">â† è¿”å›é¦–é¡µ</a>
        </div>
    </div>

    <script>
        // è®¢é˜…åŸå§‹åœ°å€
        const subUrl = "https://raw.gitmirror.com/feng-180/feng-180.github.io/main/sub_all.txt";

        // Shadowrocket å¯¼å…¥
        function importShadowrocket() {
            window.location.href = "shadowrocket://add/sub://" + btoa(subUrl) + "?remark=" + encodeURIComponent("é£çš„é­”æ³•å°å±‹");
            alertTips();
        }

        // Clash å¯¼å…¥é€»è¾‘ (æ ¸å¿ƒä¿®å¤ç‰ˆ)
        function importClash(type) {
            const backend = (type === 'main') ? "https://sub.d1.mk/sub?" : "https://sub.id9.cc/sub?";
            
            // 1. æ„å»ºè½¬æ¢å‚æ•°
            const configUrl = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online.ini";
            const convertParams = `target=clash&url=${encodeURIComponent(subUrl)}&insert=false&config=${encodeURIComponent(configUrl)}&emoji=true&new_name=Magic_Station_${type}`;
            
            // 2. æ‹¼æ¥å®Œæ•´è½¬æ¢é“¾æ¥
            const fullConverterUrl = backend + convertParams;
            
            // 3. æ‰§è¡ŒåŒé‡ç¼–ç å¹¶å”¤èµ·åè®®
            window.location.href = "clash://install-config?url=" + encodeURIComponent(fullConverterUrl);
            alertTips();
        }

        // å¤åˆ¶åŠŸèƒ½
        function copyLink() {
            const tempInput = document.createElement("input");
            tempInput.value = subUrl;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand("copy");
            document.body.removeChild(tempInput);
            
            const btn = document.getElementById('copyBtn');
            btn.innerText = "âœ… å¤åˆ¶æˆåŠŸ";
            setTimeout(() => { btn.innerText = "ğŸ“‹ ä»…å¤åˆ¶è®¢é˜…é“¾æ¥"; }, 2000);
        }

        function alertTips() {
            setTimeout(() => {
                alert('ğŸŒ¸ å°è¯•å”¤èµ·é­”æ³•è½¯ä»¶ä¸­...\n\nå¦‚æœæ²¡ååº”ï¼Œè¯·ç¡®è®¤æ‰‹æœºå·²å®‰è£…è½¯ä»¶ã€‚\nå¦‚æœå¯¼å…¥åæŠ¥é”™ï¼Œè¯·å°è¯•ç‚¹å‡»â€œçº¿è·¯2â€ã€‚');
            }, 1000);
        }

        // æ¨±èŠ±ç»˜åˆ¶é€»è¾‘
        const canvas = document.getElementById('sakura-canvas');
        const ctx = canvas.getContext('2d');
        let sakuraArray = [];
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        class Sakura {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height - canvas.height;
                this.size = Math.random() * 7 + 3;
                this.speedX = Math.random() * 1.5 - 0.5;
                this.speedY = Math.random() * 1 + 1;
                this.angle = Math.random() * 360;
                this.spin = Math.random() * 2 - 1;
            }
            draw() {
                ctx.save(); ctx.translate(this.x, this.y); ctx.rotate(this.angle * Math.PI / 180);
                ctx.fillStyle = '#ffb7c5'; ctx.beginPath();
                ctx.ellipse(0, 0, this.size, this.size/2, 0, 0, Math.PI * 2); ctx.fill(); ctx.restore();
            }
            update() {
                this.x += this.speedX; this.y += this.speedY; this.angle += this.spin;
                if (this.y > canvas.height) { this.y = -20; this.x = Math.random() * canvas.width; }
            }
        }
        function init() { resize(); for (let i = 0; i < 20; i++) sakuraArray.push(new Sakura()); }
        function animate() { ctx.clearRect(0, 0, canvas.width, canvas.height); sakuraArray.forEach(s => { s.update(); s.draw(); }); requestAnimationFrame(animate); }
        window.addEventListener('resize', resize); init(); animate();
    </script>
</body>
</html>