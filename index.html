<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>风の魔法禁书录</title>
  <style>
    :root {
      --cyan: #00f2ff;
      --deep-purple: #0a051a;
    }
    * { box-sizing: border-box; -webkit-font-smoothing: antialiased; }
    
    body {
      margin: 0; background: #030008; color: #f0f0f0;
      font-family: "Microsoft YaHei", sans-serif;
      overflow-x: hidden; min-height: 100vh;
      display: flex; flex-direction: column; align-items: center;
      /* 深邃背景 */
      background: radial-gradient(circle at center, #110826 0%, #030008 100%);
    }

    /* --- 1. 背景大阵：呼吸感的几何法阵 --- */
    .magic-bg {
      position: fixed; inset: 0; z-index: 0;
      display: flex; align-items: center; justify-content: center;
      pointer-events: none;
    }
    .circle-layer {
      position: absolute; border: 1px solid rgba(0, 242, 255, 0.05); border-radius: 50%;
      animation: rotate 60s linear infinite;
    }
    .layer-1 { width: 450px; height: 450px; border-style: double; border-width: 3px; }
    .layer-2 { width: 550px; height: 550px; border-style: dashed; opacity: 0.5; animation-duration: 90s; }

    /* --- 2. 顶部：发光卡牌与法阵环 --- */
    .header { position: relative; z-index: 5; padding-top: 80px; text-align: center; }
    .card-halo {
      position: relative; width: 150px; height: 210px; margin: 0 auto;
      display: flex; align-items: center; justify-content: center;
    }
    /* 卡牌背后的发光法阵 */
    .card-halo::before {
      content: ""; position: absolute; width: 280px; height: 280px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="48" fill="none" stroke="rgba(0,242,255,0.2)" stroke-width="0.2" stroke-dasharray="1,2"/></svg>');
      background-size: contain; animation: rotate 20s linear infinite;
    }
    .logo-img { 
      width: 100%; height: 100%; object-fit: contain; 
      filter: drop-shadow(0 0 20px rgba(0, 242, 255, 0.4));
      animation: float 4s ease-in-out infinite;
    }

    /* --- 3. 播放器：音乐脉动图标 --- */
    .music-box {
      margin: 40px 0; cursor: pointer; z-index: 10;
      display: flex; flex-direction: column; align-items: center; gap: 8px;
    }
    .music-waves {
      display: flex; align-items: center; gap: 3px; height: 20px;
    }
    .wave-bar { width: 2px; height: 10px; background: var(--cyan); opacity: 0.3; transition: 0.3s; }
    .wave-bar.active { animation: wave 1s ease-in-out infinite; opacity: 0.8; }
    .m-text { font-size: 11px; color: #444; letter-spacing: 4px; }

    /* --- 4. 菜单：对称美学，去边框浮光 --- */
    .menu { position: relative; z-index: 10; width: 300px; }
    .menu-btn {
      display: block; text-decoration: none; padding: 25px 0;
      text-align: center; color: #fff; transition: 0.5s;
      position: relative;
    }
    /* 悬浮时的色彩特效 */
    .menu-btn:hover .m-title {
      color: var(--cyan); text-shadow: 0 0 15px var(--cyan);
      transform: scale(1.1);
    }
    .m-title { 
      display: block; font-size: 19px; letter-spacing: 8px; font-weight: 300; 
      color: #bbb; transition: 0.4s;
    }
    .m-desc { display: block; font-size: 10px; color: #333; margin-top: 8px; letter-spacing: 2px; }

    /* --- 5. 底部：协调的暗调计数 --- */
    .footer { margin-top: auto; padding-bottom: 50px; text-align: center; z-index: 5; }
    .count-wrap {
      opacity: 0.4; transition: 0.5s;
    }
    .count-wrap:hover { opacity: 0.8; }
    .count-label { font-size: 9px; color: #444; letter-spacing: 5px; margin-bottom: 5px; }
    .count-val { font-family: "Courier New", monospace; font-size: 16px; color: var(--cyan); }

    /* --- 动画 --- */
    @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
    @keyframes wave { 0%, 100% { height: 5px; } 50% { height: 18px; } }
  </style>
</head>
<body>
  <div class="magic-bg">
    <div class="circle-layer layer-1"></div>
    <div class="circle-layer layer-2"></div>
  </div>

  <header class="header">
    <div class="card-halo">
      <img src="logo.png" class="logo-img">
    </div>
    
    <div class="music-box" onclick="toggleMusic()">
      <div class="music-waves" id="waves">
        <div class="wave-bar" style="animation-delay: 0.1s"></div>
        <div class="wave-bar" style="animation-delay: 0.3s"></div>
        <div class="wave-bar" style="animation-delay: 0.2s"></div>
        <div class="wave-bar" style="animation-delay: 0.4s"></div>
      </div>
      <div class="m-text" id="m-status">咒语静默中</div>
    </div>
    <audio id="audio-player" src="bgm.mp3" loop></audio>
  </header>

  <nav class="menu">
    <a href="tutorial.html" class="menu-btn">
      <span class="m-title">使用教程</span>
      <span class="m-desc">获取权限与操作指南</span>
    </a>
    <a href="mqqapi://card/show_pslcard?src_type=internal&version=1&uin=691105381&card_type=group&source=qrcode" class="menu-btn">
      <span class="m-title">魔法阵地</span>
      <span class="m-desc">加入群聊同步信息</span>
    </a>
    <div onclick="showVerifyModal('download')" class="menu-btn" style="cursor:pointer">
      <span class="m-title">下载工具</span>
      <span class="m-desc">维度转换核心器械</span>
    </div>
    <div onclick="showVerifyModal('nodes')" class="menu-btn" style="cursor:pointer">
      <span class="m-title">同步术式</span>
      <span class="m-desc">获取最新节点订阅</span>
    </div>
  </nav>

  <footer class="footer">
    <div class="count-wrap">
      <div class="count-label">维度访客负载</div>
      <div class="count-val" id="counter-val">0000350859</div>
    </div>
  </footer>

  <div id="verifyModal" style="position: fixed; inset: 0; z-index: 100; display: none; align-items: center; justify-content: center; background: rgba(0,0,0,0.98);">
    <div style="width: 260px; text-align: center;">
      <input type="text" id="verifyInput" style="width: 100%; background: transparent; border: none; border-bottom: 1px solid #222; color: #fff; padding: 10px; text-align: center; outline: none; margin-bottom: 30px; letter-spacing: 5px;" placeholder="输入口令">
      <button onclick="checkVerifyCode()" style="background:none; border: 1px solid #333; color: var(--cyan); padding: 8px 40px; cursor: pointer;">验证身份</button>
      <div onclick="closeVerifyModal()" style="margin-top: 20px; font-size: 10px; color: #222; cursor: pointer;">取消</div>
    </div>
  </div>

  <script>
    const TODAY_CODE = "666资源风";
    let targetPath = "";

    function showVerifyModal(path) { targetPath = path; document.getElementById('verifyModal').style.display = 'flex'; }
    function closeVerifyModal() { document.getElementById('verifyModal').style.display = 'none'; }
    function checkVerifyCode() {
      if(document.getElementById('verifyInput').value.trim() === TODAY_CODE) { window.location.href = targetPath + ".html"; }
      else { alert('口令错误'); }
    }

    const audio = document.getElementById('audio-player');
    const bars = document.querySelectorAll('.wave-bar');
    const mStatus = document.getElementById('m-status');
    
    function toggleMusic() {
      if(audio.paused) { 
        audio.play(); 
        bars.forEach(b => b.classList.add('active'));
        mStatus.innerText = "术式共鸣中"; mStatus.style.color = "var(--cyan)";
      } else { 
        audio.pause(); 
        bars.forEach(b => b.classList.remove('active'));
        mStatus.innerText = "咒语静默中"; mStatus.style.color = "#444";
      }
    }

    let count = 350859;
    setInterval(() => {
      count += Math.floor(Math.random() * 2);
      document.getElementById('counter-val').innerText = count.toString().padStart(10, '0');
    }, 5000);
  </script>
</body>
</html>