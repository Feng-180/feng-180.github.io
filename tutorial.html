<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#05020a">
  <title>使用教程手册 | MANUAL</title>
  <style>
    :root {
      --cyan: #00f2ff;
      --pink: #ff003c; /* 核心交互色 */
      --gold: #ffd700;
      --void: #05020a;
      --glass: rgba(15, 20, 25, 0.7);
      --font-code: "Consolas", "Monaco", monospace;
      --font-main: "PingFang SC", system-ui, sans-serif;
    }
    
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    
    body {
      margin: 0; background: var(--void); color: #fff;
      font-family: var(--font-main);
      min-height: 100vh;
      display: flex; flex-direction: column; align-items: center;
      /* 统一赛博背景 */
      background-image: 
        linear-gradient(rgba(0, 242, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 242, 255, 0.03) 1px, transparent 1px),
        radial-gradient(circle at center, #1a0f2e 0%, #05020a 100%);
      background-size: 40px 40px, 40px 40px, 100% 100%;
      padding: 40px 20px;
    }

    #bg-canvas { position: fixed; inset: 0; z-index: 0; pointer-events: none; }

    /* --- 头部 --- */
    .header-group {
      text-align: center; margin-bottom: 40px; position: relative; z-index: 2;
    }
    .main-title {
      font-size: 26px; letter-spacing: 6px; color: #fff; margin: 0;
      text-shadow: 0 0 15px rgba(255, 0, 60, 0.5); /* 粉色光晕 */
      position: relative; display: inline-block;
    }
    .sub-tag {
      font-family: var(--font-code); font-size: 10px; color: var(--pink);
      background: rgba(255, 0, 60, 0.1); border: 1px solid rgba(255, 0, 60, 0.3);
      padding: 4px 10px; border-radius: 4px; margin-top: 15px; display: inline-block;
    }

    /* --- 通用卡片容器 --- */
    .tutorial-container { position: relative; z-index: 2; width: 100%; max-width: 550px; }

    .card {
      background: var(--glass);
      border: 1px solid rgba(255, 255, 255, 0.08);
      padding: 30px; margin-bottom: 25px;
      backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
      position: relative; overflow: hidden;
      transition: 0.3s;
      /* 科技感切角 */
      clip-path: polygon(0 0, 100% 0, 100% calc(100% - 15px), calc(100% - 15px) 100%, 0 100%);
    }

    /* --- 步骤标签 --- */
    .step-badge {
      position: absolute; top: 0; left: 0;
      background: rgba(255,255,255,0.05); color: #888;
      font-family: var(--font-code); font-size: 10px;
      padding: 6px 12px; border-bottom-right-radius: 8px;
      border-right: 1px solid rgba(255,255,255,0.1);
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    /* --- 重点卡片：支付/联系 (Protocol 01) --- */
    .card.highlight {
      border: 1px solid rgba(255, 0, 60, 0.4);
      background: linear-gradient(160deg, rgba(255,0,60,0.05) 0%, rgba(5,2,10,0.8) 100%);
      box-shadow: 0 0 30px rgba(255, 0, 60, 0.1);
    }
    .card.highlight .step-badge { color: var(--pink); background: rgba(255, 0, 60, 0.1); }
    
    .pay-title { 
      font-size: 18px; color: #fff; text-align: center; margin: 15px 0 25px; 
      letter-spacing: 2px; font-weight: bold;
    }

    /* 二维码扫描框 */
    .qr-scanner {
      width: 200px; height: 200px; margin: 0 auto 30px;
      position: relative; padding: 10px;
      border: 1px solid rgba(255,255,255,0.2);
      background: rgba(0,0,0,0.5);
    }
    /* 四角装饰 */
    .qr-scanner::before, .qr-scanner::after {
      content: ''; position: absolute; width: 20px; height: 20px;
      border-color: var(--pink); border-style: solid; transition: 0.3s;
    }
    .qr-scanner::before { top: -1px; left: -1px; border-width: 2px 0 0 2px; }
    .qr-scanner::after { bottom: -1px; right: -1px; border-width: 0 2px 2px 0; }
    
    .qr-img { width: 100%; height: 100%; object-fit: contain; display: block; opacity: 0.9; }

    /* 扫描线动画 */
    .scan-line {
      position: absolute; top: 0; left: 0; width: 100%; height: 2px;
      background: var(--pink);
      box-shadow: 0 0 10px var(--pink);
      animation: scan 3s ease-in-out infinite; opacity: 0.8;
    }

    /* 强交互按钮 */
    .contact-btn {
      display: block; width: 100%; padding: 18px;
      background: var(--pink); color: #fff;
      text-align: center; border: none; outline: none;
      font-weight: bold; font-size: 14px; letter-spacing: 3px;
      clip-path: polygon(15px 0, 100% 0, 100% 100%, 0 100%, 0 15px);
      cursor: pointer; transition: 0.2s;
      text-transform: uppercase;
      box-shadow: 0 5px 20px rgba(255, 0, 60, 0.3);
      margin-bottom: 20px;
    }
    .contact-btn:active { transform: scale(0.98); background: #d00030; }
    
    .pay-tip { 
      font-size: 12px; color: #888; text-align: center; line-height: 1.8; 
      border-top: 1px dashed rgba(255,255,255,0.1); padding-top: 20px;
    }
    .pay-tip b { color: var(--pink); font-family: var(--font-code); font-size: 14px; }
    .important-tip { color: var(--gold); display: block; margin-bottom: 8px; font-weight: bold; }

    /* --- 普通步骤卡片 --- */
    .step-content { display: flex; flex-direction: column; gap: 10px; padding-top: 15px; }
    .step-head { font-size: 16px; color: var(--cyan); letter-spacing: 2px; font-weight: bold; }
    .step-text { font-size: 13px; color: #aaa; line-height: 1.8; text-align: justify; }
    .link-hl { color: var(--cyan); text-decoration: none; border-bottom: 1px solid rgba(0,242,255,0.3); transition: 0.3s; }
    .link-hl:hover { color: #fff; border-color: #fff; }

    /* --- 底部返回 --- */
    .nav-footer { margin-top: 20px; text-align: center; z-index: 5; }
    .btn-back {
      display: inline-block; padding: 12px 40px;
      border: 1px solid rgba(255,255,255,0.2);
      color: #888; text-decoration: none; font-size: 11px; letter-spacing: 2px;
      transition: 0.3s;
    }
    .btn-back:hover { border-color: var(--cyan); color: var(--cyan); background: rgba(0,242,255,0.05); }

    /* --- Toast 提示 --- */
    #toast {
      position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100%);
      background: #fff; color: #000; padding: 12px 30px;
      border-radius: 4px; font-weight: bold; font-size: 12px; letter-spacing: 1px;
      box-shadow: 0 5px 30px rgba(0,0,0,0.5); z-index: 1000;
      opacity: 0; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    #toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

    @keyframes scan { 0% { top: 0; opacity: 0; } 10% { opacity: 1; } 90% { opacity: 1; } 100% { top: 100%; opacity: 0; } }

  </style>
</head>
<body>
  <canvas id="bg-canvas"></canvas>

  <div id="toast">✅ QQ COPIED // REDIRECTING...</div>

  <div class="header-group">
    <h1 class="main-title">魔法使用手册</h1>
    <br>
    <div class="sub-tag">SYSTEM: PROTOCOL_GUIDE_V2</div>
  </div>

  <div class="tutorial-container">
    
    <div class="card highlight">
      <div class="step-badge">PROTOCOL_01 // ACCESS</div>
      <div class="pay-title">获取权限通行证</div>
      
      <div class="qr-scanner">
        <div class="scan-line"></div>
        <img src="skm.jpg" alt="Magic QR" class="qr-img">
      </div>
      
      <button onclick="invokeQQ()" class="contact-btn">
        已支付 &raquo; 点击唤醒站长
      </button>

      <div class="pay-tip">
        <span class="important-tip">✨ 警告：未支付请勿点击 ✨</span>
        识别上方“阵法”完成契约<br>
        系统将自动复制 QQ: <b>2902939692</b> 并跳转<br>
        如唤醒失败，请手动检索添加
      </div>
    </div>

    <div class="card">
      <div class="step-badge">PROTOCOL_02 // SYNC</div>
      <div class="step-content">
        <div class="step-head">同步魔法阵地</div>
        <div class="step-text">
          返回 <a href="index.html" class="link-hl">主控台</a>，启动 <b>【魔法阵地】</b> 模块。<br>
          加入核心群组，这是接收实时通告与获取最新术式（更新日志）的唯一渠道。
        </div>
      </div>
    </div>

    <div class="card">
      <div class="step-badge">PROTOCOL_03 // DOWNLOAD</div>
      <div class="step-content">
        <div class="step-head">解构魔法术式</div>
        <div class="step-text">
          返回 <a href="index.html" class="link-hl">主控台</a>，启动 <b>【最新订阅】</b>。<br>
          输入站长发放的 <code>ACCESS CODE</code>，系统将自动解密全球高速节点列表。
        </div>
      </div>
    </div>

    <div class="nav-footer">
      <a href="index.html" class="btn-back">EXIT TERMINAL // 返回</a>
    </div>
  </div>

  <script>
    // --- 粒子系统 (复用轻量版) ---
    const canvas = document.getElementById("bg-canvas"), ctx = canvas.getContext("2d");
    let w, h, dots = [];
    
    function initCanvas() {
      w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight;
      dots = [];
      // 粒子稍微少一点，减少干扰
      const count = window.innerWidth < 600 ? 25 : 50;
      for(let i=0; i<count; i++) {
        dots.push({
          x: Math.random()*w, y: Math.random()*h,
          r: Math.random()*1.5,
          vy: Math.random() * -0.5 - 0.1 // 向上飘动，模拟代码流
        });
      }
    }

    function render() {
      ctx.clearRect(0, 0, w, h);
      ctx.fillStyle = "rgba(0, 242, 255, 0.3)";
      dots.forEach(d => {
        d.y += d.vy;
        if(d.y < 0) { d.y = h; d.x = Math.random() * w; }
        ctx.beginPath(); ctx.arc(d.x, d.y, d.r, 0, Math.PI*2); ctx.fill();
      });
      requestAnimationFrame(render);
    }
    
    window.addEventListener('resize', initCanvas);
    initCanvas(); render();

    // --- 交互逻辑 ---
    function invokeQQ() {
        const qq = "2902939692";
        
        // 1. 复制到剪贴板
        const textArea = document.createElement("textarea");
        textArea.value = qq;
        document.body.appendChild(textArea);
        textArea.select();
        try { document.execCommand('copy'); } catch (err) {}
        document.body.removeChild(textArea);

        // 2. 显示 Toast
        const toast = document.getElementById('toast');
        toast.classList.add('show');

        // 3. 延迟跳转
        setTimeout(() => {
            toast.classList.remove('show');
            // 尝试唤起QQ
            window.location.href = "mqqapi://card/show_pslcard?src_type=internal&version=1&uin=" + qq + "&card_type=person&source=qrcode";
        }, 1200);
        
        // 4. 后备 Alert (防止小白不知道发生了什么)
        setTimeout(() => {
             // 简单的控制台风格日志，不再弹丑陋的 alert，除非必要
             console.log("Jumping to QQ Protocol...");
        }, 2000);
    }
  </script>
</body>
</html>